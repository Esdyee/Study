# SPA(Single Page Application)

* SPA는 모던 웹의 패러다임
* 단일 페이지로 구성되며 서버 사이드 렌더링과 비교할 때 배포가 간단하며, 네이티브 앱과 유사한 사용자 경험을 제공할 수 있다.
* link tag 사용하는 웹 방식은 새로고침이 발생하고, 변경이 필요 없는 부분도 갱신하여 비효율적
* 정적 리소스를 한 번에 다운로드한다.
* 새로운 페이지 요청시 데이터만을 전달받아 페이지를 갱신
* SPA의 핵심 = 사용자 경험(UX) 향상

* SPA의 구조적 단점은 아래와 같다.
	* 초기 구동속도
		* SPA는 최초에 한 번에 다운로드해서 속도가 상대적으로 느림
	* SEO(검색엔진 최적화) 문제
		* 자바스크립트 기반 비동기 모델
		* 정보 제공보다는 애플리케이션에 적합한 기술이기 때문

## Routing

* 라우팅이란 출발지에서 목적지까지의 경로를 결정하는 기능
* 어떤 화면에서 다른 화면으로 화면을 전환하는 네비게이션을 관리하기 위한 기능
* 서버에 필요한 데이터 요청 화면을 전환하는 일련의 행위

* 브라우저가 화면 전환 하는 경우
	* 브라우저 주소창에 URL 입력
	* 링크를 클릭
	* 뒤로가기 혹은 앞으로가기 버튼 클릭

* Ajax 요청에 의해 서버로부터 데이터를 응답받아 화면생성시, 브라우저 주소창 URL은 변경 X
* 사용자의 방문 history 관리 X
* SEO 이슈의 발생 원인


## SPA와 Routing

### 전통적 링크 방식

* link tag로 동작하는 기본적인 웹페이지 동작 방식
	1. link tag 클릭
	2. href 어트리뷰트 값인 리소스 경로가 URL path에 추가
	3. 리소스를 서버에 요청

* html 표시하는데 부족함 없는 리소스를 클라이언트에 응답.
	* 이 것을 서버 렌더링이라고 함
	* 이전 페이지에서 수신 된 html 전환하는 과정에서 전체페 페이지 렌더링 ==> 새로고침



### AJAX 방식

* 중복된 HTML과 CSS, JavaScript를 매번 다운로드 해야 하는 건 속도 저하의 요인
* 비동기적으로 서버와 브라우저가 데이터를 교환할 수 있는 통신 방식
* history 관리 동작하지 않음

### Hash 방식

* Ajax 방식이 history 관리가 되지 않는 단점을 보완한 방법
* URI fragment identifier의 고유 기능인 앵커(anchor)를 사용
	* fragment identifier = hash mark
* URL이 동일한 상태에서 hash가 변경되면 브라우저는 서버에 요청 X
	* hash는 변경되어도 서버에 새로운 요청을 보내지 않으며 따라서 페이지 갱신 X
	* hash는 앵커(anchor)로 웹페이지 내부에서 이동을 위함
	* history 관리에 아무런 문제가 없다.
* SEO(검색 엔진 최적화) 이슈는 고치지 못함

### PJAX 방식

* HTML5 History API인 pushState와 popsate 이벤트를 사용한 방식
* preventDefault를 사용하여 서버로의 요청 방지
	* href 어트리뷰트에 path 사용해서 Ajax 요청
		* Ajax 요청은 URL 변경 X == history 문제 발생
			* pushState 메소드로 해결

* pushSteate 메소드는 주소창의 URL을 변경하고 URL을 history entry로 추가하지만 요청하지는 않는다.

## Conclusion